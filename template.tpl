___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Facebook Conversion API",
  "categories": [
    "ADVERTISING",
    "ANALYTICS",
    "CONVERSIONS",
    "MARKETING",
    "REMARKETING"
  ],
  "brand": {
    "id": "github.com_onetagger-com",
    "displayName": "Onetagger",
    "logo": "data:image/png;base64,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",
    "thumbnail": "data:image/png;base64,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"
  },
  "description": "A tag that sends event data from the Universal Analytics, GA4, or Data Client to the Facebook Conversion API.",
  "containerContexts": [
    "SERVER"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "SELECT",
    "name": "inheritEventName",
    "displayName": "Event Name Setup Method",
    "selectItems": [
      {
        "value": "inherit",
        "displayValue": "Inherit from client"
      },
      {
        "value": "override",
        "displayValue": "Override"
      }
    ],
    "simpleValueType": true,
    "subParams": [
      {
        "type": "RADIO",
        "name": "eventName",
        "radioItems": [
          {
            "value": "standard",
            "displayValue": "Standard",
            "subParams": [
              {
                "type": "SELECT",
                "name": "eventNameStandard",
                "macrosInSelect": false,
                "selectItems": [
                  {
                    "value": "PageView",
                    "displayValue": "PageView"
                  },
                  {
                    "value": "AddPaymentInfo",
                    "displayValue": "AddPaymentInfo"
                  },
                  {
                    "value": "AddToCart",
                    "displayValue": "AddToCart"
                  },
                  {
                    "value": "AddToWishlist",
                    "displayValue": "AddToWishlist"
                  },
                  {
                    "value": "CompleteRegistration",
                    "displayValue": "CompleteRegistration"
                  },
                  {
                    "value": "Contact",
                    "displayValue": "Contact"
                  },
                  {
                    "value": "CustomizeProduct",
                    "displayValue": "CustomizeProduct"
                  },
                  {
                    "value": "Donate",
                    "displayValue": "Donate"
                  },
                  {
                    "value": "FindLocation",
                    "displayValue": "FindLocation"
                  },
                  {
                    "value": "InitiateCheckout",
                    "displayValue": "InitiateCheckout"
                  },
                  {
                    "value": "Lead",
                    "displayValue": "Lead"
                  },
                  {
                    "value": "Purchase",
                    "displayValue": "Purchase"
                  },
                  {
                    "value": "Schedule",
                    "displayValue": "Schedule"
                  },
                  {
                    "value": "Search",
                    "displayValue": "Search"
                  },
                  {
                    "value": "StartTrial",
                    "displayValue": "StartTrial"
                  },
                  {
                    "value": "SubmitApplication",
                    "displayValue": "SubmitApplication"
                  },
                  {
                    "value": "Subscribe",
                    "displayValue": "Subscribe"
                  },
                  {
                    "value": "ViewContent",
                    "displayValue": "ViewContent"
                  }
                ],
                "simpleValueType": true
              }
            ]
          },
          {
            "value": "custom",
            "displayValue": "Custom",
            "subParams": [
              {
                "type": "TEXT",
                "name": "eventNameCustom",
                "simpleValueType": true
              }
            ]
          }
        ],
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "inheritEventName",
            "paramValue": "override",
            "type": "EQUALS"
          }
        ],
        "displayName": "Event Type"
      }
    ]
  },
  {
    "type": "SELECT",
    "name": "actionSource",
    "displayName": "Action Source",
    "selectItems": [
      {
        "value": "website",
        "displayValue": "Website"
      },
      {
        "value": "email",
        "displayValue": "Email"
      },
      {
        "value": "app",
        "displayValue": "App"
      },
      {
        "value": "phone_call",
        "displayValue": "Phone Call"
      },
      {
        "value": "chat",
        "displayValue": "Chat"
      },
      {
        "value": "physical_store",
        "displayValue": "Physical Store"
      },
      {
        "value": "system_generated",
        "displayValue": "System Generated"
      },
      {
        "value": "business_messaging",
        "displayValue": "Business Messaging"
      },
      {
        "value": "other",
        "displayValue": "Other"
      }
    ],
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ],
    "defaultValue": "website"
  },
  {
    "type": "SELECT",
    "name": "messaging_channel",
    "displayName": "Messaging Channel",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "messenger",
        "displayValue": "Messenger"
      },
      {
        "value": "whatsapp",
        "displayValue": "WhatsApp"
      }
    ],
    "simpleValueType": true,
    "defaultValue": "messenger",
    "enablingConditions": [
      {
        "paramName": "actionSource",
        "paramValue": "business_messaging",
        "type": "EQUALS"
      }
    ],
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "accessToken",
    "displayName": "API Access Token",
    "simpleValueType": true,
    "help": "Set to your Facebook API Access Token. See \u003ca href\u003d\"https://developers.facebook.com/docs/marketing-api/server-side-api/get-started#access-token\" target\u003d\"_blank\"\u003ehere\u003c/a\u003e for more information.",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "pixelId",
    "displayName": "Facebook Pixel ID",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ],
    "help": "Set to a valid Facebook Pixel ID."
  },
  {
    "type": "CHECKBOX",
    "name": "enableMultipixelSetup",
    "checkboxText": "Add Multiple Facebook Pixel IDs",
    "simpleValueType": true,
    "help": "Add one Facebook Pixel ID and one Access Token per line",
    "subParams": [
      {
        "type": "SIMPLE_TABLE",
        "name": "pixelIdAndAccessTokenTable",
        "simpleTableColumns": [
          {
            "defaultValue": "",
            "displayName": "Facebook Pixel ID",
            "name": "pixelId",
            "type": "TEXT",
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ]
          },
          {
            "defaultValue": "",
            "displayName": "API Access Token",
            "name": "accessToken",
            "type": "TEXT",
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ]
          }
        ],
        "enablingConditions": [
          {
            "paramName": "enableMultipixelSetup",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "testId",
    "displayName": "Test ID",
    "simpleValueType": true,
    "help": "Provide a Test ID if you want to test server-side events in the Test Events feature of Events Manager.",
    "valueHint": "TEST123"
  },
  {
    "type": "TEXT",
    "name": "itemIdKey",
    "displayName": "Custom Item Id Key",
    "simpleValueType": true,
    "help": "You can specify a custom key, which will be used to set the content item id, by default item_id will be used. This may be useful if you are using WooCommerce extensions.",
    "canBeEmptyString": true
  },
  {
    "type": "CHECKBOX",
    "name": "generateFbp",
    "checkboxText": "Generate _fbp cookie if it not exist",
    "simpleValueType": true,
    "defaultValue": true
  },
  {
    "type": "CHECKBOX",
    "name": "useHttpOnlyCookie",
    "checkboxText": "Use HttpOnly cookies",
    "simpleValueType": true,
    "help": "Forbids JavaScript from accessing the cookie if enabled."
  },
  {
    "type": "CHECKBOX",
    "name": "enableEventEnhancement",
    "checkboxText": "Enable Event Enhancement",
    "simpleValueType": true,
    "help": "Enable Use of HTTP Only Secure Cookie (gtmeec) to Enhance Event Data",
    "defaultValue": true
  },
  {
    "type": "CHECKBOX",
    "name": "useOptimisticScenario",
    "checkboxText": "Use Optimistic Scenario",
    "simpleValueType": true,
    "help": "The tag will call gtmOnSuccess() without waiting for a response from the API. This will speed up sGTM response time however your tag will always return the status fired successfully even in case it is not."
  },
  {
    "displayName": "Server Event Data Override",
    "name": "serverEventDataListGroup",
    "groupStyle": "ZIPPY_CLOSED",
    "type": "GROUP",
    "subParams": [
      {
        "name": "serverEventDataList",
        "simpleTableColumns": [
          {
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ],
            "defaultValue": "event_id",
            "displayName": "Property Name",
            "name": "name",
            "isUnique": true,
            "type": "SELECT",
            "selectItems": [
              {
                "value": "event_time",
                "displayValue": "Event Time"
              },
              {
                "value": "event_source_url",
                "displayValue": "Source URL"
              },
              {
                "value": "opt_out",
                "displayValue": "Opt Out"
              },
              {
                "value": "event_id",
                "displayValue": "Event ID"
              },
              {
                "value": "data_processing_options",
                "displayValue": "Data Processing Options"
              },
              {
                "value": "data_processing_options_country",
                "displayValue": "Data Processing Options Country"
              },
              {
                "value": "data_processing_options_state",
                "displayValue": "Data Processing Options State"
              },
              {
                "value": "referrer_url",
                "displayValue": "Referrer Url"
              }
            ]
          },
          {
            "defaultValue": "",
            "displayName": "Property Value",
            "name": "value",
            "type": "TEXT"
          }
        ],
        "type": "SIMPLE_TABLE",
        "newRowButtonText": "Add property"
      }
    ],
    "help": "See \u003ca href\u003d\"https://developers.facebook.com/docs/marketing-api/conversions-api/parameters/server-event\" target\u003d\"_blank\"\u003ethis documentation\u003c/a\u003e for more details on what data parameters you can override."
  },
  {
    "displayName": "User Data",
    "name": "userDataListGroup",
    "groupStyle": "ZIPPY_CLOSED",
    "type": "GROUP",
    "subParams": [
      {
        "name": "userDataList",
        "simpleTableColumns": [
          {
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ],
            "defaultValue": "em",
            "displayName": "Property Name",
            "name": "name",
            "isUnique": true,
            "type": "SELECT",
            "selectItems": [
              {
                "value": "em",
                "displayValue": "Email"
              },
              {
                "value": "ph",
                "displayValue": "Phone"
              },
              {
                "value": "ge",
                "displayValue": "Gender"
              },
              {
                "value": "db",
                "displayValue": "Date of Birth"
              },
              {
                "value": "ln",
                "displayValue": "Last Name"
              },
              {
                "value": "fn",
                "displayValue": "First Name"
              },
              {
                "value": "ct",
                "displayValue": "City"
              },
              {
                "value": "st",
                "displayValue": "State"
              },
              {
                "value": "zp",
                "displayValue": "Zip"
              },
              {
                "value": "country",
                "displayValue": "Country"
              },
              {
                "value": "external_id",
                "displayValue": "External ID"
              },
              {
                "value": "client_ip_address",
                "displayValue": "Client IP address"
              },
              {
                "value": "client_user_agent",
                "displayValue": "Client user agent"
              },
              {
                "value": "fbc",
                "displayValue": "Click ID"
              },
              {
                "value": "fbp",
                "displayValue": "Browser ID"
              },
              {
                "value": "subscription_id",
                "displayValue": "Subscription ID"
              },
              {
                "value": "lead_id",
                "displayValue": "Lead ID"
              },
              {
                "value": "fb_login_id",
                "displayValue": "FB Login ID"
              },
              {
                "value": "anon_id",
                "displayValue": "Install ID"
              },
              {
                "value": "madid",
                "displayValue": "Mobile Advertiser ID"
              },
              {
                "value": "page_id",
                "displayValue": "Page ID"
              },
              {
                "value": "page_scoped_user_id",
                "displayValue": "Page Scoped User ID"
              },
              {
                "value": "ctwa_clid",
                "displayValue": "Ctwa clid"
              }
            ]
          },
          {
            "defaultValue": "",
            "displayName": "Property Value",
            "name": "value",
            "type": "TEXT"
          }
        ],
        "type": "SIMPLE_TABLE",
        "newRowButtonText": "Add property"
      }
    ],
    "help": "See \u003ca href\u003d\"https://developers.facebook.com/docs/marketing-api/server-side-api/parameters/user-data\" target\u003d\"_blank\"\u003ethis documentation\u003c/a\u003e for more details on what user data parameters you can add to the call. If the documentation requires the parameter to be hashed, you \u003cstrong\u003emust\u003c/strong\u003e hash it with SHA256, or the tag will do this automatically before sending the event to Facebook."
  },
  {
    "displayName": "App Data",
    "name": "appDataListGroup",
    "groupStyle": "ZIPPY_CLOSED",
    "type": "GROUP",
    "subParams": [
      {
        "type": "LABEL",
        "name": "appDataLabel",
        "displayName": "App Parameters that you can send to Meta you can find \u003ca target\u003d\"_blank\" href\u003d\"https://developers.facebook.com/docs/marketing-api/conversions-api/parameters/app-data\"\u003eby this link\u003c/a\u003e."
      },
      {
        "name": "appDataList",
        "simpleTableColumns": [
          {
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ],
            "defaultValue": "",
            "displayName": "Property Name",
            "name": "name",
            "isUnique": true,
            "type": "SELECT",
            "selectItems": [
              {
                "value": "advertiser_tracking_enabled",
                "displayValue": "Advertiser Tracking Enabled"
              },
              {
                "value": "application_tracking_enabled",
                "displayValue": "Application Tracking Enabled"
              },
              {
                "value": "extinfo",
                "displayValue": "Ext Info"
              },
              {
                "value": "campaign_ids",
                "displayValue": "Campaign IDs"
              },
              {
                "value": "install_referrer",
                "displayValue": "Install Referrer"
              },
              {
                "value": "installer_package",
                "displayValue": "Installer Package"
              },
              {
                "value": "url_schemes",
                "displayValue": "URL Schemes"
              },
              {
                "value": "windows_attribution_id",
                "displayValue": "Windows Attribution ID"
              }
            ]
          },
          {
            "defaultValue": "",
            "displayName": "Property Value",
            "name": "value",
            "type": "TEXT"
          }
        ],
        "type": "SIMPLE_TABLE",
        "newRowButtonText": "Add property"
      }
    ],
    "help": "See \u003ca href\u003d\"https://developers.facebook.com/docs/marketing-api/conversions-api/parameters/app-data\" target\u003d\"_blank\"\u003ethis documentation\u003c/a\u003e for more details on what data parameters you can add to the call.",
    "enablingConditions": [
      {
        "paramName": "actionSource",
        "paramValue": "app",
        "type": "EQUALS"
      }
    ]
  },
  {
    "displayName": "Custom Data",
    "name": "customDataListGroup",
    "groupStyle": "ZIPPY_CLOSED",
    "type": "GROUP",
    "subParams": [
      {
        "type": "LABEL",
        "name": "customDataLabel",
        "displayName": "Standard Parameters that you can send to Meta you can find \u003ca target\u003d\"_blank\" href\u003d\"https://developers.facebook.com/docs/marketing-api/conversions-api/parameters/custom-data\"\u003eby this link\u003c/a\u003e."
      },
      {
        "name": "customDataList",
        "simpleTableColumns": [
          {
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ],
            "defaultValue": "",
            "displayName": "Property Name",
            "name": "name",
            "isUnique": true,
            "type": "TEXT"
          },
          {
            "defaultValue": "",
            "displayName": "Property Value",
            "name": "value",
            "type": "TEXT"
          }
        ],
        "type": "SIMPLE_TABLE",
        "newRowButtonText": "Add property"
      }
    ],
    "help": "See \u003ca href\u003d\"https://developers.facebook.com/docs/marketing-api/conversions-api/parameters/custom-data\" target\u003d\"_blank\"\u003ethis documentation\u003c/a\u003e for more details on what data parameters you can add to the call."
  },
  {
    "type": "GROUP",
    "name": "consentSettingsGroup",
    "displayName": "Consent Settings",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "RADIO",
        "name": "adStorageConsent",
        "displayName": "",
        "radioItems": [
          {
            "value": "optional",
            "displayValue": "Send data always"
          },
          {
            "value": "required",
            "displayValue": "Send data in case marketing consent given"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "optional"
      }
    ]
  },
  {
    "displayName": "Logs Settings",
    "name": "logsGroup",
    "groupStyle": "ZIPPY_CLOSED",
    "type": "GROUP",
    "subParams": [
      {
        "type": "RADIO",
        "name": "logType",
        "radioItems": [
          {
            "value": "no",
            "displayValue": "Do not log"
          },
          {
            "value": "debug",
            "displayValue": "Log to console during debug and preview"
          },
          {
            "value": "always",
            "displayValue": "Always log to console"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "debug"
      }
    ]
  }
]


___SANDBOXED_JS_FOR_SERVER___

const encodeUriComponent = require('encodeUriComponent');
const getAllEventData = require('getAllEventData');
const JSON = require('JSON');
const Math = require('Math');
const sendHttpRequest = require('sendHttpRequest');
const getTimestampMillis = require('getTimestampMillis');
const setCookie = require('setCookie');
const getCookieValues = require('getCookieValues');
const getContainerVersion = require('getContainerVersion');
const logToConsole = require('logToConsole');
const sha256Sync = require('sha256Sync');
const decodeUriComponent = require('decodeUriComponent');
const parseUrl = require('parseUrl');
const computeEffectiveTldPlusOne = require('computeEffectiveTldPlusOne');
const generateRandom = require('generateRandom');
const getRequestHeader = require('getRequestHeader');
const getType = require('getType');
const makeString = require('makeString');
const makeNumber = require('makeNumber');
const toBase64 = require('toBase64');
const fromBase64 = require('fromBase64');
const createRegex = require('createRegex');
const testRegex = require('testRegex');
const Promise = require('Promise');

const isLoggingEnabled = determinateIsLoggingEnabled();
const traceId = isLoggingEnabled ? getRequestHeader('trace-id') : undefined;

const eventData = getAllEventData();

if (!isConsentGivenOrNotRequired()) {
  return data.gtmOnSuccess();
}

const url = eventData.page_location || getRequestHeader('referer');
const subDomainIndex = url
  ? computeEffectiveTldPlusOne(url).split('.').length - 1
  : 1;

if (url && url.lastIndexOf('https://gtm-msr.appspot.com/', 0) === 0) {
  return data.gtmOnSuccess();
}

const commonCookie = eventData.common_cookie || {};

let fbc = getCookieValues('_fbc')[0] || commonCookie._fbc;
let fbp = getCookieValues('_fbp')[0] || commonCookie._fbp;

if (!fbc) fbc = eventData._fbc;
if (!fbp) fbp = eventData._fbp;

if (url) {
  const urlParsed = parseUrl(url);

  if (urlParsed && urlParsed.searchParams.fbclid) {
    if (
      !fbc ||
      (fbc &&
        fbc.split('.')[fbc.split('.').length - 1] !==
          decodeUriComponent(urlParsed.searchParams.fbclid))
    ) {
      fbc =
        'fb.' +
        subDomainIndex +
        '.' +
        getTimestampMillis() +
        '.' +
        decodeUriComponent(urlParsed.searchParams.fbclid);
    }
  }
}

if (!fbp && data.generateFbp) {
  fbp =
    'fb.' +
    subDomainIndex +
    '.' +
    getTimestampMillis() +
    '.' +
    generateRandom(1000000000, 2147483647);
}

const mappedEventData = mapEvent(eventData, data);
const postBody = {
  data: [mappedEventData],
  partner_agent:
    'onetagger-gtmss-1.0.0' + (data.enableEventEnhancement ? '-ee' : '')
};

if (data.enableEventEnhancement) {
  mappedEventData.user_data = enhanceEventData(mappedEventData.user_data);
  setGtmEecCookie(mappedEventData.user_data);
}

if (eventData.test_event_code || data.testId) {
  postBody.test_event_code = eventData.test_event_code
    ? eventData.test_event_code
    : data.testId;
}

const cookieOptions = {
  domain: 'auto',
  path: '/',
  samesite: 'Lax',
  secure: true,
  'max-age': 7776000, // 90 days
  HttpOnly: !!data.useHttpOnlyCookie
};

if (fbc) {
  setCookie('_fbc', fbc, cookieOptions);
}

if (fbp) {
  setCookie('_fbp', fbp, cookieOptions);
}

const apiVersion = '20.0';
let pixelIdsAndAccessTokens = [
  { pixelId: data.pixelId, accessToken: data.accessToken }
];
if (data.enableMultipixelSetup) {
  pixelIdsAndAccessTokens = pixelIdsAndAccessTokens.concat(
    data.pixelIdAndAccessTokenTable
  );
}

const requests = pixelIdsAndAccessTokens.map((pixelIdAndAccessTokenObj) => {
  const pixelId = pixelIdAndAccessTokenObj.pixelId;
  const accessToken = pixelIdAndAccessTokenObj.accessToken;
  const postUrl =
    'https://graph.facebook.com/v' +
    apiVersion +
    '/' +
    enc(pixelId) +
    '/events?access_token=' +
    enc(accessToken);
  if (isLoggingEnabled) {
    logToConsole(
      JSON.stringify({
        Name: 'Facebook',
        Type: 'Request',
        TraceId: traceId,
        EventName: mappedEventData.event_name,
        RequestMethod: 'POST',
        RequestUrl: postUrl,
        RequestBody: postBody
      })
    );
  }
  return sendHttpRequest(
    postUrl,
    { headers: { 'content-type': 'application/json' }, method: 'POST' },
    JSON.stringify(postBody)
  );
});

Promise.all(requests).then((results) => {
  let someRequestFailed = false;

  results.forEach((result) => {
    if (isLoggingEnabled) {
      logToConsole(
        JSON.stringify({
          Name: 'Facebook',
          Type: 'Response',
          TraceId: traceId,
          EventName: mappedEventData.event_name,
          ResponseStatusCode: result.statusCode,
          ResponseHeaders: result.headers,
          ResponseBody: result.body
        })
      );
    }

    if (result.statusCode < 200 || result.statusCode >= 300) {
      someRequestFailed = true;
    }
  });

  if (!data.useOptimisticScenario) {
    if (someRequestFailed) {
      data.gtmOnFailure();
    } else {
      data.gtmOnSuccess();
    }
  }
});

if (data.useOptimisticScenario) {
  data.gtmOnSuccess();
}

function getEventName(data) {
  if (data.inheritEventName === 'inherit') {
    let eventName = eventData.event_name;

    let gaToFacebookEventName = {
      page_view: 'PageView',
      'gtm.dom': 'PageView',
      add_payment_info: 'AddPaymentInfo',
      add_to_cart: 'AddToCart',
      add_to_wishlist: 'AddToWishlist',
      sign_up: 'CompleteRegistration',
      begin_checkout: 'InitiateCheckout',
      generate_lead: 'Lead',
      purchase: 'Purchase',
      search: 'Search',
      view_item: 'ViewContent',

      contact: 'Contact',
      customize_product: 'CustomizeProduct',
      donate: 'Donate',
      find_location: 'FindLocation',
      schedule: 'Schedule',
      start_trial: 'StartTrial',
      submit_application: 'SubmitApplication',
      subscribe: 'Subscribe',

      'gtm4wp.addProductToCartEEC': 'AddToCart',
      'gtm4wp.productClickEEC': 'ViewContent',
      'gtm4wp.checkoutOptionEEC': 'InitiateCheckout',
      'gtm4wp.checkoutStepEEC': 'AddPaymentInfo',
      'gtm4wp.orderCompletedEEC': 'Purchase'
    };

    if (!gaToFacebookEventName[eventName]) {
      return eventName;
    }

    return gaToFacebookEventName[eventName];
  }

  return data.eventName === 'standard'
    ? data.eventNameStandard
    : data.eventNameCustom;
}

function mapEvent(eventData, data) {
  let eventName = getEventName(data);

  let mappedData = {
    event_name: eventName,
    action_source: data.actionSource || 'website',
    event_time: Math.round(getTimestampMillis() / 1000),
    custom_data: {},
    user_data: {}
  };

  if (mappedData.action_source === 'app') {
    mappedData.app_data = {};
  }

  if (mappedData.action_source === 'business_messaging') {
    mappedData.messaging_channel = data.messaging_channel;
  }

  if (eventData.page_location)
    mappedData.event_source_url = eventData.page_location;
  if (eventData.page_referrer)
    mappedData.referrer_url = eventData.page_referrer;
  if (eventData.user_agent)
    mappedData.user_data.client_user_agent = eventData.user_agent;

  if (eventData.ip_override) {
    mappedData.user_data.client_ip_address = eventData.ip_override
      .split(' ')
      .join('')
      .split(',')[0];
  }

  if (fbc) mappedData.user_data.fbc = fbc;
  if (fbp) mappedData.user_data.fbp = fbp;

  mappedData = addServerEventData(eventData, mappedData);
  mappedData = addUserData(eventData, mappedData);
  mappedData = addAppData(eventData, mappedData);
  mappedData = addEcommerceData(eventData, mappedData);
  mappedData = overrideDataIfNeeded(mappedData);
  mappedData = cleanupData(mappedData);
  mappedData = hashDataIfNeeded(mappedData);

  return mappedData;
}

function enc(data) {
  data = data || '';
  return encodeUriComponent(data);
}

function isHashed(value) {
  if (!value) {
    return false;
  }

  return makeString(value).match('^[A-Fa-f0-9]{64}$') !== null;
}

function hashData(key, value) {
  if (!value) {
    return value;
  }

  const type = getType(value);

  if (type === 'undefined' || value === 'undefined') {
    return undefined;
  }

  if (type === 'array') {
    return value.map((val) => {
      return hashData(key, val);
    });
  }

  if (isHashed(value)) {
    return value;
  }

  value = makeString(value).trim().toLowerCase();

  if (key === 'ph') {
    value = normalizePhoneNumber(value);
  } else if (key === 'ct') {
    value = value.split(' ').join('');
  }

  return sha256Sync(value, { outputEncoding: 'hex' });
}

function hashDataIfNeeded(mappedData) {
  if (mappedData.user_data) {
    const keysToHash = [
      'em',
      'ph',
      'ge',
      'db',
      'ln',
      'fn',
      'ct',
      'st',
      'zp',
      'country',
      'external_id'
    ];
    for (let key in mappedData.user_data) {
      if (keysToHash.indexOf(key) !== -1) {
        mappedData.user_data[key] = hashData(key, mappedData.user_data[key]);
      }
    }
  }

  return mappedData;
}

function overrideDataIfNeeded(mappedData) {
  if (data.userDataList) {
    data.userDataList.forEach((d) => {
      mappedData.user_data[d.name] = d.value;
    });
  }

  if (data.customDataList) {
    data.customDataList.forEach((d) => {
      mappedData.custom_data[d.name] = d.value;
    });
  }

  if (data.appDataList && mappedData.action_source === 'app') {
    data.appDataList.forEach((d) => {
      mappedData.app_data[d.name] = d.value;
    });
  }

  return mappedData;
}

function cleanupData(mappedData) {
  if (mappedData.user_data) {
    let userData = {};

    for (let userDataKey in mappedData.user_data) {
      if (isValidValue(mappedData.user_data[userDataKey])) {
        userData[userDataKey] = mappedData.user_data[userDataKey];
      }
    }

    mappedData.user_data = userData;
  }

  if (mappedData.custom_data) {
    let customData = {};

    for (let customDataKey in mappedData.custom_data) {
      if (isValidValue(mappedData.custom_data[customDataKey])) {
        customData[customDataKey] = mappedData.custom_data[customDataKey];
      }
    }

    if (customData.value === 0 || customData.value === '0')
      customData.value = '0.00';

    mappedData.custom_data = customData;
  }

  if (mappedData.app_data) {
    let appData = {};

    for (let appDataKey in mappedData.app_data) {
      if (isValidValue(mappedData.app_data[appDataKey])) {
        appData[appDataKey] = mappedData.app_data[appDataKey];
      }
    }

    mappedData.app_data = appData;
  }

  return mappedData;
}

function isValidValue(value) {
  const valueType = getType(value);
  return valueType !== 'null' && valueType !== 'undefined' && value !== '';
}

function addEcommerceData(eventData, mappedData) {
  let currencyFromItems = '';
  let valueFromItems = 0;

  if (eventData.items && eventData.items[0]) {
    mappedData.custom_data.contents = [];
    mappedData.custom_data.content_type =
      eventData['x-fb-cd-content_type'] || eventData.content_type || 'product';
    currencyFromItems = eventData.items[0].currency;

    if (!eventData.items[1]) {
      if (eventData.items[0].item_name)
        mappedData.custom_data.content_name = eventData.items[0].item_name;
      if (eventData.items[0].item_category)
        mappedData.custom_data.content_category =
          eventData.items[0].item_category;

      if (eventData.items[0].price) {
        mappedData.custom_data.value = eventData.items[0].quantity
          ? eventData.items[0].quantity * eventData.items[0].price
          : eventData.items[0].price;
      }
    }

    const itemIdKey = data.itemIdKey ? data.itemIdKey : 'item_id';
    eventData.items.forEach((d, i) => {
      let content = {};
      if (d[itemIdKey]) content.id = d[itemIdKey];
      if (d.item_name) content.title = d.item_name;
      if (d.item_brand) content.brand = d.item_brand;
      if (d.quantity) content.quantity = d.quantity;
      if (d.item_category) content.category = d.item_category;

      if (d.price) {
        content.item_price = makeNumber(d.price);
        valueFromItems += d.quantity
          ? d.quantity * content.item_price
          : content.item_price;
      }

      mappedData.custom_data.contents.push(content);
    });
  }

  if (eventData['x-ga-mp1-ev'])
    mappedData.custom_data.value = eventData['x-ga-mp1-ev'];
  else if (eventData['x-ga-mp1-tr'])
    mappedData.custom_data.value = eventData['x-ga-mp1-tr'];
  else if (eventData.value) mappedData.custom_data.value = eventData.value;

  if (eventData.currency) mappedData.custom_data.currency = eventData.currency;
  else if (currencyFromItems)
    mappedData.custom_data.currency = currencyFromItems;

  if (eventData.search_term)
    mappedData.custom_data.search_string = eventData.search_term;

  if (eventData.transaction_id)
    mappedData.custom_data.order_id = eventData.transaction_id;

  if (mappedData.event_name === 'Purchase') {
    if (!mappedData.custom_data.currency)
      mappedData.custom_data.currency = 'USD';
    if (!mappedData.custom_data.value)
      mappedData.custom_data.value = valueFromItems ? valueFromItems : 0;
  }

  return mappedData;
}

function addUserData(eventData, mappedData) {
  let address = {};
  let user_data = {};
  if (getType(eventData.user_data) === 'object') {
    user_data = eventData.user_data;
    const addressType = getType(user_data.address);
    if (addressType === 'object' || addressType === 'array') {
      address = user_data.address[0] || user_data.address;
    }
  }
  if (eventData.fb_login_id)
    mappedData.user_data.fb_login_id = eventData.fb_login_id;

  if (eventData.anon_id) mappedData.user_data.anon_id = eventData.anon_id;

  if (eventData.madid) mappedData.user_data.madid = eventData.madid;

  if (eventData.external_id)
    mappedData.user_data.external_id = eventData.external_id;
  else if (eventData.user_id)
    mappedData.user_data.external_id = eventData.user_id;
  else if (eventData.userId)
    mappedData.user_data.external_id = eventData.userId;

  if (eventData.subscription_id)
    mappedData.user_data.subscription_id = eventData.subscription_id;
  else if (eventData.subscriptionId)
    mappedData.user_data.subscription_id = eventData.subscriptionId;

  if (eventData.lead_id) mappedData.user_data.lead_id = eventData.lead_id;
  else if (eventData.leadId) mappedData.user_data.lead_id = eventData.leadId;

  if (eventData.lastName) mappedData.user_data.ln = eventData.lastName;
  else if (eventData.LastName) mappedData.user_data.ln = eventData.LastName;
  else if (eventData.nameLast) mappedData.user_data.ln = eventData.nameLast;
  else if (eventData.last_name) mappedData.user_data.ln = eventData.last_name;
  else if (user_data.last_name) mappedData.user_data.ln = user_data.last_name;
  else if (address.last_name) mappedData.user_data.ln = address.last_name;

  if (eventData.firstName) mappedData.user_data.fn = eventData.firstName;
  else if (eventData.FirstName) mappedData.user_data.fn = eventData.FirstName;
  else if (eventData.nameFirst) mappedData.user_data.fn = eventData.nameFirst;
  else if (eventData.first_name) mappedData.user_data.fn = eventData.first_name;
  else if (user_data.first_name) mappedData.user_data.fn = user_data.first_name;
  else if (address.first_name) mappedData.user_data.fn = address.first_name;

  if (eventData.email) mappedData.user_data.em = eventData.email;
  else if (user_data.email_address)
    mappedData.user_data.em = user_data.email_address;
  else if (user_data.email) mappedData.user_data.em = user_data.email;

  if (eventData.phone) mappedData.user_data.ph = eventData.phone;
  else if (user_data.phone_number)
    mappedData.user_data.ph = user_data.phone_number;

  if (eventData.city) mappedData.user_data.ct = eventData.city;
  else if (address.city) mappedData.user_data.ct = address.city;

  if (eventData.state) mappedData.user_data.st = eventData.state;
  else if (eventData.region) mappedData.user_data.st = eventData.region;
  else if (user_data.region) mappedData.user_data.st = user_data.region;
  else if (address.region) mappedData.user_data.st = address.region;

  if (eventData.zip) mappedData.user_data.zp = eventData.zip;
  else if (eventData.postal_code)
    mappedData.user_data.zp = eventData.postal_code;
  else if (user_data.postal_code)
    mappedData.user_data.zp = user_data.postal_code;
  else if (address.postal_code) mappedData.user_data.zp = address.postal_code;

  if (eventData.countryCode)
    mappedData.user_data.country = eventData.countryCode;
  else if (eventData.country) mappedData.user_data.country = eventData.country;
  else if (user_data.country) mappedData.user_data.country = user_data.country;
  else if (address.country) mappedData.user_data.country = address.country;

  if (eventData.gender) mappedData.user_data.ge = eventData.gender;
  if (eventData.db) mappedData.user_data.db = eventData.db;

  return mappedData;
}

function addServerEventData(eventData, mappedData) {
  let serverEventDataList = {};

  if (eventData.event_id) mappedData.event_id = eventData.event_id;
  else if (eventData.transaction_id)
    mappedData.event_id = eventData.transaction_id;

  if (data.serverEventDataList) {
    data.serverEventDataList.forEach((d) => {
      serverEventDataList[d.name] = d.value;
    });
  }

  if (serverEventDataList) {
    if (serverEventDataList.event_time)
      mappedData.event_time = serverEventDataList.event_time;
    if (serverEventDataList.event_source_url)
      mappedData.event_source_url = serverEventDataList.event_source_url;
    if (serverEventDataList.opt_out)
      mappedData.opt_out = serverEventDataList.opt_out;
    if (serverEventDataList.event_id)
      mappedData.event_id = serverEventDataList.event_id;
    if (serverEventDataList.referrer_url)
      mappedData.referrer_url = serverEventDataList.referrer_url;

    if (serverEventDataList.data_processing_options) {
      mappedData.data_processing_options =
        serverEventDataList.data_processing_options;

      if (serverEventDataList.data_processing_options_country)
        mappedData.data_processing_options_country =
          serverEventDataList.data_processing_options_country;
      if (serverEventDataList.data_processing_options_state)
        mappedData.data_processing_options_state =
          serverEventDataList.data_processing_options_state;
    }
  }

  return mappedData;
}

function addAppData(eventData, mappedData) {
  if (mappedData.action_source !== 'app') {
    return mappedData;
  }

  if (getType(eventData.app_data) === 'object') {
    mappedData.app_data = eventData.app_data;

    return mappedData;
  }

  if (eventData.advertiser_tracking_enabled)
    mappedData.app_data.advertiser_tracking_enabled =
      eventData.advertiser_tracking_enabled;
  if (eventData.application_tracking_enabled)
    mappedData.app_data.application_tracking_enabled =
      eventData.application_tracking_enabled;
  if (eventData.extinfo) mappedData.app_data.extinfo = eventData.extinfo;
  if (eventData.campaign_ids)
    mappedData.app_data.campaign_ids = eventData.campaign_ids;
  if (eventData.install_referrer)
    mappedData.app_data.install_referrer = eventData.install_referrer;
  if (eventData.installer_package)
    mappedData.app_data.installer_package = eventData.installer_package;
  if (eventData.url_schemes)
    mappedData.app_data.url_schemes = eventData.url_schemes;
  if (eventData.windows_attribution_id)
    mappedData.app_data.windows_attribution_id =
      eventData.windows_attribution_id;

  return mappedData;
}

function setGtmEecCookie(userData) {
  let gtmeecCookie = {};

  if (userData.em) gtmeecCookie.em = userData.em;
  if (userData.ph) gtmeecCookie.ph = userData.ph;
  if (userData.ln) gtmeecCookie.ln = userData.ln;
  if (userData.fn) gtmeecCookie.fn = userData.fn;
  if (userData.ct) gtmeecCookie.ct = userData.ct;
  if (userData.st) gtmeecCookie.st = userData.st;
  if (userData.zp) gtmeecCookie.zp = userData.zp;
  if (userData.ge) gtmeecCookie.ge = userData.ge;
  if (userData.db) gtmeecCookie.db = userData.db;
  if (userData.country) gtmeecCookie.country = userData.country;
  if (userData.external_id) gtmeecCookie.external_id = userData.external_id;
  if (userData.fb_login_id) gtmeecCookie.fb_login_id = userData.fb_login_id;

  setCookie('_gtmeec', toBase64(JSON.stringify(gtmeecCookie)), {
    domain: 'auto',
    path: '/',
    samesite: 'strict',
    secure: true,
    'max-age': 7776000, // 90 days
    HttpOnly: true
  });
}

function enhanceEventData(userData) {
  const cookieValues = getCookieValues('_gtmeec');
  if ((!cookieValues || cookieValues.length === 0) && !commonCookie._gtmeec) {
    return userData;
  }

  const encodedValue = cookieValues[0] || commonCookie._gtmeec;
  if (!encodedValue) {
    return userData;
  }

  const jsonStr = fromBase64(encodedValue);
  if (!jsonStr) {
    return userData;
  }

  const gtmeecData = JSON.parse(jsonStr);

  if (gtmeecData) {
    if (!userData.em && gtmeecData.em) userData.em = gtmeecData.em;
    if (!userData.ph && gtmeecData.ph) userData.ph = gtmeecData.ph;
    if (!userData.ln && gtmeecData.ph) userData.ln = gtmeecData.ln;
    if (!userData.fn && gtmeecData.fn) userData.fn = gtmeecData.fn;
    if (!userData.ct && gtmeecData.ct) userData.ct = gtmeecData.ct;
    if (!userData.st && gtmeecData.st) userData.st = gtmeecData.st;
    if (!userData.zp && gtmeecData.zp) userData.zp = gtmeecData.zp;
    if (!userData.ge && gtmeecData.ge) userData.ge = gtmeecData.ge;
    if (!userData.db && gtmeecData.db) userData.db = gtmeecData.db;
    if (!userData.country && gtmeecData.country)
      userData.country = gtmeecData.country;
    if (!userData.external_id && gtmeecData.external_id)
      userData.external_id = gtmeecData.external_id;
    if (!userData.fb_login_id && gtmeecData.fb_login_id)
      userData.fb_login_id = gtmeecData.fb_login_id;
  }

  return userData;
}

function normalizePhoneNumber(phoneNumber) {
  if (!phoneNumber) return phoneNumber;
  const itemRegex = createRegex('^[0-9]$');
  return phoneNumber
    .split('')
    .filter((item) => testRegex(itemRegex, item))
    .join('');
}

function isConsentGivenOrNotRequired() {
  if (data.adStorageConsent !== 'required') return true;
  if (eventData.consent_state) return !!eventData.consent_state.ad_storage;
  const xGaGcs = eventData['x-ga-gcs'] || ''; // x-ga-gcs is a string like "G110"
  return xGaGcs[2] === '1';
}

function determinateIsLoggingEnabled() {
  const containerVersion = getContainerVersion();
  const isDebug = !!(
    containerVersion &&
    (containerVersion.debugMode || containerVersion.previewMode)
  );

  if (!data.logType) {
    return isDebug;
  }

  if (data.logType === 'no') {
    return false;
  }

  if (data.logType === 'debug') {
    return isDebug;
  }

  return data.logType === 'always';
}


___SERVER_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "read_event_data",
        "versionId": "1"
      },
      "param": [
        {
          "key": "eventDataAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "set_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedCookies",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "name"
                  },
                  {
                    "type": 1,
                    "string": "domain"
                  },
                  {
                    "type": 1,
                    "string": "path"
                  },
                  {
                    "type": 1,
                    "string": "secure"
                  },
                  {
                    "type": 1,
                    "string": "session"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "_fbc"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "name"
                  },
                  {
                    "type": 1,
                    "string": "domain"
                  },
                  {
                    "type": 1,
                    "string": "path"
                  },
                  {
                    "type": 1,
                    "string": "secure"
                  },
                  {
                    "type": 1,
                    "string": "session"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "_fbp"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "name"
                  },
                  {
                    "type": 1,
                    "string": "domain"
                  },
                  {
                    "type": 1,
                    "string": "path"
                  },
                  {
                    "type": 1,
                    "string": "secure"
                  },
                  {
                    "type": 1,
                    "string": "session"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "_gtmeec"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "send_http",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedUrls",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://graph.facebook.com/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "cookieAccess",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "cookieNames",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "_fbc"
              },
              {
                "type": 1,
                "string": "_fbp"
              },
              {
                "type": 1,
                "string": "_gtmeec"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "all"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_container_data",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_request",
        "versionId": "1"
      },
      "param": [
        {
          "key": "headerWhitelist",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "headerName"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "trace-id"
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "headerName"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "referer"
                  }
                ]
              }
            ]
          }
        },
        {
          "key": "headersAllowed",
          "value": {
            "type": 8,
            "boolean": true
          }
        },
        {
          "key": "requestAccess",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "headerAccess",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "queryParameterAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: Check semantical errors
  code: |-
    const mockData = {
      pixelId: 12345,
      accessToken: 'test'
    };
    
    runCode(mockData);
setup: ''


___NOTES___

Created on 25/11/2020, 10:56:55